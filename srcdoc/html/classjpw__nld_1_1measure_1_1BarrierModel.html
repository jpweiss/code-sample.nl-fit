<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>research-nld: BarrierModel&lt; MODEL_POLICY &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jpw-doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">research-nld
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classjpw__nld_1_1measure_1_1BarrierModel.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classjpw__nld_1_1measure_1_1BarrierModel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BarrierModel&lt; MODEL_POLICY &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Core class for all of the variants of the barrier model.  
 <a href="classjpw__nld_1_1measure_1_1BarrierModel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for BarrierModel&lt; MODEL_POLICY &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classjpw__nld_1_1measure_1_1BarrierModel__inherit__graph.png" border="0" usemap="#BarrierModel_3_01MODEL__POLICY_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="BarrierModel_3_01MODEL__POLICY_01_4_inherit__map" id="BarrierModel_3_01MODEL__POLICY_01_4_inherit__map">
<area shape="rect" id="node3" href="classjpw__nld_1_1measure_1_1BarrierModel.html" title="BarrierModel\&lt; F_POL_T \&gt;" alt="" coords="5,189,179,216"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for BarrierModel&lt; MODEL_POLICY &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classjpw__nld_1_1measure_1_1BarrierModel__coll__graph.png" border="0" usemap="#BarrierModel_3_01MODEL__POLICY_01_4_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a37f1a428bccf592e0ea40ab5c2554fa7"><td class="memItemLeft" align="right" valign="top">typedef MODEL_POLICY&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a37f1a428bccf592e0ea40ab5c2554fa7">Policy_t</a></td></tr>
<tr class="separator:a37f1a428bccf592e0ea40ab5c2554fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a92bb7f7a64a219c478741c809924734d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a92bb7f7a64a219c478741c809924734d">BarrierModel</a> (<a class="el" href="namespacejpw__nld.html#afd02b1952a0403b0ef53ae24eed8353f">tslen_t</a> nData)</td></tr>
<tr class="memdesc:a92bb7f7a64a219c478741c809924734d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor.  <a href="#a92bb7f7a64a219c478741c809924734d">More...</a><br/></td></tr>
<tr class="separator:a92bb7f7a64a219c478741c809924734d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f50818d9d9cd8bb1bf246702d1a0e64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacejpw__nld.html#afd02b1952a0403b0ef53ae24eed8353f">tslen_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a9f50818d9d9cd8bb1bf246702d1a0e64">callcount</a> () const </td></tr>
<tr class="memdesc:a9f50818d9d9cd8bb1bf246702d1a0e64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor fn. for the # of times the model was called.  <a href="#a9f50818d9d9cd8bb1bf246702d1a0e64">More...</a><br/></td></tr>
<tr class="separator:a9f50818d9d9cd8bb1bf246702d1a0e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c5a6d25e917f52dac2ee5481ddb55f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#ac8c5a6d25e917f52dac2ee5481ddb55f">clearCallcount</a> ()</td></tr>
<tr class="memdesc:ac8c5a6d25e917f52dac2ee5481ddb55f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets to zero the counter that tracks the # of times the model was called.  <a href="#ac8c5a6d25e917f52dac2ee5481ddb55f">More...</a><br/></td></tr>
<tr class="separator:ac8c5a6d25e917f52dac2ee5481ddb55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7386b5483fed0f24d2d2e034d76407bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a7386b5483fed0f24d2d2e034d76407bc">operator()</a> (const <a class="el" href="classjpw__nld_1_1measure_1_1PersistenceMap.html">PersistenceMap</a> &amp;theMap, dvector_t &amp;fitParams, dvector_t &amp;deltas)</td></tr>
<tr class="memdesc:a7386b5483fed0f24d2d2e034d76407bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The model, C++-style.  <a href="#a7386b5483fed0f24d2d2e034d76407bc">More...</a><br/></td></tr>
<tr class="separator:a7386b5483fed0f24d2d2e034d76407bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886594eded13a4463b539dcb941f5fda"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a886594eded13a4463b539dcb941f5fda">chiSquared</a> (const <a class="el" href="classjpw__nld_1_1measure_1_1PersistenceMap.html">PersistenceMap</a> &amp;theMap, dvector_t &amp;fitParams)</td></tr>
<tr class="memdesc:a886594eded13a4463b539dcb941f5fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute <img class="formulaInl" alt="$ \chi^2 $" src="form_85.png"/> using <em>theMap</em> and evaluating the model at <em>fitParams</em>.  <a href="#a886594eded13a4463b539dcb941f5fda">More...</a><br/></td></tr>
<tr class="separator:a886594eded13a4463b539dcb941f5fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af828bc699cede19026334ec9e9aee88d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#af828bc699cede19026334ec9e9aee88d">operator()</a> (int, const <a class="el" href="classjpw__nld_1_1measure_1_1PersistenceMap.html">PersistenceMap</a> &amp;theMap, int, <a class="el" href="namespacejpw__nld_1_1fortlib.html#ab548b8671e5358ea35e5131e23dfb479">fortlib::fort_dvec_t</a> fitParams, <a class="el" href="namespacejpw__nld_1_1fortlib.html#ab548b8671e5358ea35e5131e23dfb479">fortlib::fort_dvec_t</a> deltas, <a class="el" href="namespacejpw__nld_1_1fortlib.html#a71e1364077d954bc37620f7f5732525b">fortlib::fort_dmat_t</a> fnJacob, int, int actionCode)</td></tr>
<tr class="memdesc:af828bc699cede19026334ec9e9aee88d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The model, in the form required by <code>FitLM_Adapter</code>.  <a href="#af828bc699cede19026334ec9e9aee88d">More...</a><br/></td></tr>
<tr class="separator:af828bc699cede19026334ec9e9aee88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad881762e37c63c17e55a5344cd280885"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#ad881762e37c63c17e55a5344cd280885">randomParams</a> (dvector_t &amp;params)</td></tr>
<tr class="memdesc:ad881762e37c63c17e55a5344cd280885"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill <em>params</em> with "constrained" random values.  <a href="#ad881762e37c63c17e55a5344cd280885">More...</a><br/></td></tr>
<tr class="separator:ad881762e37c63c17e55a5344cd280885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6912cc1ea4ffe002d822bd62ee030fb3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a6912cc1ea4ffe002d822bd62ee030fb3">limitParams</a> (dvector_t &amp;params)</td></tr>
<tr class="memdesc:a6912cc1ea4ffe002d822bd62ee030fb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restrict <em>params</em> according to their natural ranges.  <a href="#a6912cc1ea4ffe002d822bd62ee030fb3">More...</a><br/></td></tr>
<tr class="separator:a6912cc1ea4ffe002d822bd62ee030fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff93e357fc5539cacb49ab43f02234b4"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#aff93e357fc5539cacb49ab43f02234b4">scale_ampl</a> (double us_ampl)</td></tr>
<tr class="memdesc:aff93e357fc5539cacb49ab43f02234b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the "normal" barrier amplitude parameter, returns its rescaled equivalent.  <a href="#aff93e357fc5539cacb49ab43f02234b4">More...</a><br/></td></tr>
<tr class="separator:aff93e357fc5539cacb49ab43f02234b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a461c17b9c58d8498c0d9c1f3dc7137"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a9a461c17b9c58d8498c0d9c1f3dc7137">descale_ampl</a> (double s_ampl)</td></tr>
<tr class="memdesc:a9a461c17b9c58d8498c0d9c1f3dc7137"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inverse operation to <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#aff93e357fc5539cacb49ab43f02234b4" title="Given the &quot;normal&quot; barrier amplitude parameter, returns its rescaled equivalent. ">scale_ampl()</a></code>.  <a href="#a9a461c17b9c58d8498c0d9c1f3dc7137">More...</a><br/></td></tr>
<tr class="separator:a9a461c17b9c58d8498c0d9c1f3dc7137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e2e23b3a1827b4cfee501ac923480a9"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a5e2e23b3a1827b4cfee501ac923480a9">scale_width</a> (double us_width)</td></tr>
<tr class="memdesc:a5e2e23b3a1827b4cfee501ac923480a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the "normal" barrier width parameter, returns its rescaled equivalent.  <a href="#a5e2e23b3a1827b4cfee501ac923480a9">More...</a><br/></td></tr>
<tr class="separator:a5e2e23b3a1827b4cfee501ac923480a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e35289a65b1f9e8429e29167c9120f"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a34e35289a65b1f9e8429e29167c9120f">descale_width</a> (double s_width)</td></tr>
<tr class="memdesc:a34e35289a65b1f9e8429e29167c9120f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inverse operation to <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a5e2e23b3a1827b4cfee501ac923480a9" title="Given the &quot;normal&quot; barrier width parameter, returns its rescaled equivalent. ">scale_width()</a></code>.  <a href="#a34e35289a65b1f9e8429e29167c9120f">More...</a><br/></td></tr>
<tr class="separator:a34e35289a65b1f9e8429e29167c9120f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4681aeaee0a2748ad75bc5b4d7a01c0d"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a4681aeaee0a2748ad75bc5b4d7a01c0d">scale_tau</a> (double us_tau)</td></tr>
<tr class="memdesc:a4681aeaee0a2748ad75bc5b4d7a01c0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the "normal" decay time parameter, returns its rescaled equivalent.  <a href="#a4681aeaee0a2748ad75bc5b4d7a01c0d">More...</a><br/></td></tr>
<tr class="separator:a4681aeaee0a2748ad75bc5b4d7a01c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a576740a8aeb7c2958379af2f76c615cd"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a576740a8aeb7c2958379af2f76c615cd">descale_tau</a> (double s_tau)</td></tr>
<tr class="memdesc:a576740a8aeb7c2958379af2f76c615cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inverse operation to <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a4681aeaee0a2748ad75bc5b4d7a01c0d" title="Given the &quot;normal&quot; decay time parameter, returns its rescaled equivalent. ">scale_tau()</a></code>.  <a href="#a576740a8aeb7c2958379af2f76c615cd">More...</a><br/></td></tr>
<tr class="separator:a576740a8aeb7c2958379af2f76c615cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a8448c6f76561a824e54e410e1ebe34f0"><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a8448c6f76561a824e54e410e1ebe34f0">KAPPA1</a> =20</td></tr>
<tr class="separator:a8448c6f76561a824e54e410e1ebe34f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895ddf70d65a1ef437a1d6caed163678"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="namespacejpw__nld.html#aab1410d3f3644ff465752cab5b56e420">index_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a895ddf70d65a1ef437a1d6caed163678">N_PARAMETERS</a> =Policy_t::N_PARAMETERS</td></tr>
<tr class="separator:a895ddf70d65a1ef437a1d6caed163678"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:acdb16742d2fdf0ecc23bd1d2efc4e338"><td class="memTemplParams" colspan="2">template&lt;typename VT &gt; </td></tr>
<tr class="memitem:acdb16742d2fdf0ecc23bd1d2efc4e338"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338">calculate</a> (const <a class="el" href="classjpw__nld_1_1measure_1_1PersistenceMap.html">PersistenceMap</a> &amp;theMap, VT &amp;fitParams, VT &amp;deltas, VT &amp;fnJacob, int actionCode)</td></tr>
<tr class="memdesc:acdb16742d2fdf0ecc23bd1d2efc4e338"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function that actually implements the model.  <a href="#acdb16742d2fdf0ecc23bd1d2efc4e338">More...</a><br/></td></tr>
<tr class="separator:acdb16742d2fdf0ecc23bd1d2efc4e338"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1cbc07c6dc50fd397ea1d6ec829cb298"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacejpw__nld.html#afd02b1952a0403b0ef53ae24eed8353f">tslen_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a1cbc07c6dc50fd397ea1d6ec829cb298">m__callcount</a></td></tr>
<tr class="separator:a1cbc07c6dc50fd397ea1d6ec829cb298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae70d50879980e2e9b45dece3340e6db"><td class="memItemLeft" align="right" valign="top">dvector_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#aae70d50879980e2e9b45dece3340e6db">m__wrkJac</a></td></tr>
<tr class="separator:aae70d50879980e2e9b45dece3340e6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8152f7d621cada08a0ef5469766845fb"><td class="memItemLeft" align="right" valign="top">dvector_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a8152f7d621cada08a0ef5469766845fb">m__wrkErrs</a></td></tr>
<tr class="separator:a8152f7d621cada08a0ef5469766845fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename MODEL_POLICY = policy::Full&gt;<br/>
class jpw_nld::measure::BarrierModel&lt; MODEL_POLICY &gt;</h3>

<p>Core class for all of the variants of the barrier model. </p>
<p>Several of the member functions won't make much sense unless you read the section <a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#BaMoMath">The Barrier Model: Theory and Implementation</a>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">MODEL_POLICY</td><td><em>MUST</em> be one of the 3 classes defined in the <code><a class="el" href="namespacejpw__nld_1_1measure_1_1policy.html" title="Policy classes for use with the BarrierModel template class. ">measure::policy</a></code> namespace. If you try to use any other class, you will get linkage failures from (one or more of) the functions <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#ad881762e37c63c17e55a5344cd280885" title="Fill params with &quot;constrained&quot; random values. ">randomParams()</a></code>, <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a6912cc1ea4ffe002d822bd62ee030fb3" title="Restrict params according to their natural ranges. ">limitParams()</a></code>, or <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="BaMoTD"></a>
Technical Details</h1>
<p>Most of the member functions are explicitly instantiated within the library, so using <code>-lmeasure</code> when linking is sufficient. Three functions, however, do not have static linkage. If you are using one of the member functions <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#ad881762e37c63c17e55a5344cd280885" title="Fill params with &quot;constrained&quot; random values. ">randomParams()</a></code>, <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a6912cc1ea4ffe002d822bd62ee030fb3" title="Restrict params according to their natural ranges. ">limitParams()</a></code>, and/or <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code>, you will need to add <code>#include&#160;"details/BarrierModels.tcc"</code> to the translation-unit calling them.</p>
<p>The functions <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#ad881762e37c63c17e55a5344cd280885" title="Fill params with &quot;constrained&quot; random values. ">randomParams()</a></code>, <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a6912cc1ea4ffe002d822bd62ee030fb3" title="Restrict params according to their natural ranges. ">limitParams()</a></code>, and <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code> have different implementations, created through class-level template specialization. They have only been defined for the 3 different <code><a class="el" href="namespacejpw__nld_1_1measure_1_1policy.html" title="Policy classes for use with the BarrierModel template class. ">measure::policy</a></code> classes. That's the reason why using an invalid class as the <code>MODEL_POLICY</code> will cause link-errors.</p>
<p>Notice that <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code> is <em>also</em> a template-<em>function</em>. Doing so allows <code>FitLM_Adapter</code> to use this class without resorting to nasty, nonportable tricks mucking about with pointers. The documentation for <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code> explains the reason why.</p>
<h1><a class="anchor" id="BaMoMath"></a>
The Barrier Model:  Theory and Implementation</h1>
<p>The function <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code>, as its name implies, calculates the equation for the actual model of the persistence barrier. The theory behind this model can be found in my dissertation; it's outside of the scope of this class' documentation. Instead, we'll look at <em>how</em> <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code> computes the barrier-model.</p>
<p><code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code> has to use "rescaled parameters", or the Levenberg-Marquardt algorithm (accessed through <a class="el" href="classjpw__nld_1_1measure_1_1FitLM__BarrierAdapter.html" title="Child class of the FitLM_Adapter, using the BarrierModel and PersistenceMap classes. ">FitLM_BarrierAdapter</a>), won't work. A set of member functions, named <code>scale_*()</code> and <code>descaled_*()</code>, convert these "rescaled parameters" to "the
barrier-model's 'true' parameters".</p>
<p>But first, let's look at the definition of the (full) persistence-barrier model: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ M(p,l\,;\, A, p_{b},\Delta p, \tau) \equiv A\; B(p,l\,;\, p_{b},\Delta p) + (1\,-\,A)\; e^{-\frac{l}{\left| \tau \right|}} \]" src="form_66.png"/>
</p>
<p> where <img class="formulaInl" alt="$ 0 \le A \le 1 \,, \quad 0 \le p_{b} \le 1 \,, \quad \left| \Delta p \right| \le 1 \,, $" src="form_33.png"/> <br/>
and: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ B(p,l\,;\, p_{b},\Delta p) \equiv \sum ^{\infty }_{n=-\infty } \left[ \tanh\left(\frac{p-p_{b}-l + n}{\left| \Delta p \right| } \right) - \tanh\left(\frac{p-p_{b} + n}{\left| \Delta p \right| } \right) \right] \]" src="form_34.png"/>
</p>
<p> The values, <img class="formulaInl" alt="$ A $" src="form_61.png"/>, <img class="formulaInl" alt="$ p_{b} $" src="form_62.png"/>, <img class="formulaInl" alt="$ \Delta p $" src="form_38.png"/>, and <img class="formulaInl" alt="$ \tau $" src="form_36.png"/> are the model's four parameters.</p>
<p>This is the model's purely-theoretical form. It's also completely unusable in a nonlinear least-squared fit.</p>
<p>Firstly, and most obviously, there is the infinite sum. That, however, is easy to deal with. (If you truncate the sum to <img class="formulaInl" alt="$ \pm \frac{20}{\Delta p} $" src="form_37.png"/>, the resulting approximation error is smaller than machine-precision.)</p>
<p>Secondly, two of the parameters, ( <img class="formulaInl" alt="$\Delta p$" src="form_75.png"/> and <img class="formulaInl" alt="$\tau$" src="form_74.png"/>) cannot be zero.</p>
<p>Lastly, and more importantly, the derivative of this function is discontinuous, and therefore utterly useless for nonlinear least-squares fitting. Removing the absolute-values makes the derivative usable, but requires enforcing limits on the ranges of all four of the parameters. The Levenberg-Marquardt algorithm cannot enforce these range-limits. Worse, making the fit-function enforce these limits "gives the
Levenberg-Marquardt indigestion": it fails to converge and/or will send <img class="formulaInl" alt="$ \tau $" src="form_36.png"/> (which has no upper limit) off to <img class="formulaInl" alt="$ \infty $" src="form_39.png"/> (which isn't a valid solution).</p>
<p>To deal with these complications, we need to "rescale" the parameters, changing the model to this form: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ M^{\prime} \left( p,l\,;\, \alpha, p_{b},\nu, \rho \right) \equiv \frac{1}{2}\left(1 + \cos \alpha \right)\: B^{\prime}\left( p,l\,;\: p_{b}, \nu \right) + \frac{1}{2}\left(1 - \cos \alpha \right)\: e^{-l\, \rho^{2}} \]" src="form_76.png"/>
</p>
<p> where: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} B^{\prime}\left( p,l\,;\: p_{b}, \nu \right) &amp; \equiv &amp; \sum ^{\kappa }_{n=-\kappa }\left[ \tanh\left(\nu^{2} \left[ p-p_{b}-l + n \right] \right) - \tanh\left(\nu^{2} \left[ p-p_{b} + n \right] \right) \right] \\ &amp; \vphantom{B} &amp; \\ A &amp; = &amp; \frac{1}{2}\left(1 + \cos \alpha \right) \\ \Delta p &amp; = &amp; \nu^{2} \\ \tau &amp; = &amp; \rho^{2} \\ \kappa &amp; \equiv &amp; \textrm{int} \left( \frac{20}{\Delta p} \right) \end{eqnarray*}" src="form_68.png"/>
</p>
<p>So now, we perform a nonlinear least-squares fit to <em>this</em> new model. We then take the optimal parameters, <img class="formulaInl" alt="$ \alpha $" src="form_63.png"/>, <img class="formulaInl" alt="$ p_{b} $" src="form_62.png"/>, <img class="formulaInl" alt="$ \nu $" src="form_64.png"/>, and <img class="formulaInl" alt="$ \rho $" src="form_65.png"/>, and convert them back to the original parameters, <img class="formulaInl" alt="$ A $" src="form_61.png"/>, <img class="formulaInl" alt="$ p_{b} $" src="form_62.png"/>, <img class="formulaInl" alt="$ \Delta p $" src="form_38.png"/>, and <img class="formulaInl" alt="$ \tau $" src="form_36.png"/>, using the functions:</p>
<ul>
<li><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a9a461c17b9c58d8498c0d9c1f3dc7137" title="Inverse operation to scale_ampl(). ">descale_ampl(double)</a> <br/>
 (from <img class="formulaInl" alt="$ \alpha $" src="form_63.png"/> to <img class="formulaInl" alt="$ A $" src="form_61.png"/>)</li>
<li><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a34e35289a65b1f9e8429e29167c9120f" title="Inverse operation to scale_width(). ">descale_width(double)</a> <br/>
 (from <img class="formulaInl" alt="$ \nu $" src="form_64.png"/> to <img class="formulaInl" alt="$ \Delta p $" src="form_38.png"/>)</li>
<li><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a576740a8aeb7c2958379af2f76c615cd" title="Inverse operation to scale_tau(). ">descale_tau(double)</a> <br/>
 (from <img class="formulaInl" alt="$ \rho $" src="form_65.png"/> to <img class="formulaInl" alt="$ \tau $" src="form_36.png"/>)</li>
</ul>
<p>The rescaled-model, <img class="formulaInl" alt="$ M^{\prime} \left( p,l\,;\, \alpha, p_{b},\nu, \rho \right) $" src="form_81.png"/>, not only gets rid of the two absolute-values, it eliminates any possibility of a divide-by-zero. Furthermore, it naturally imposes the limit <img class="formulaInl" alt="$ 0 \le A \le 1 $" src="form_58.png"/> through the use of a smooth periodic function ... just what the Levenberg-Marquardt algorithm wants.</p>
<p>The model has two special cases, <img class="formulaInl" alt="$ A = 0 $" src="form_77.png"/> and <img class="formulaInl" alt="$ A = 1 $" src="form_78.png"/>. They're used to analyze the results of the full model. Rather than incur the performance hit from using the general, full model, we use class-template-specialization of <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#acdb16742d2fdf0ecc23bd1d2efc4e338" title="The function that actually implements the model. ">calculate()</a></code> to implement the two special-case models: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ M^{\prime} \left( p,l\,;\, \rho \right)_{A=1} \equiv e^{-l\, \rho^{2}} \]" src="form_83.png"/>
</p>
<p> and: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ M^{\prime} \left( p,l\,;\, p_{b},\nu \right)_{A=0} \equiv \sum ^{\kappa }_{n=-\kappa }\left[ \tanh\left(\nu^{2} \left[ p-p_{b}-l + n \right] \right) - \tanh\left(\nu^{2} \left[ p-p_{b} + n \right] \right) \]" src="form_84.png"/>
</p>
<p> (Note that these are in rescaled form.) <br/>
The <code><a class="el" href="structjpw__nld_1_1measure_1_1policy_1_1MarkovOnly.html" title="Policy class: Instructs BarrierModel&lt;POL&gt; to implement a modified barrier model using only the Markov...">policy::MarkovOnly</a></code> policy-class selects the first special-case, while <code><a class="el" href="structjpw__nld_1_1measure_1_1policy_1_1BarrierOnly.html" title="Policy class: Instructs BarrierModel&lt;POL&gt; to implement a modified barrier model that omits the Markov...">policy::BarrierOnly</a></code> selects the second one. </p>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00252">252</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a37f1a428bccf592e0ea40ab5c2554fa7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef MODEL_POLICY <a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a37f1a428bccf592e0ea40ab5c2554fa7">Policy_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00255">255</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a92bb7f7a64a219c478741c809924734d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html">BarrierModel</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacejpw__nld.html#afd02b1952a0403b0ef53ae24eed8353f">tslen_t</a>&#160;</td>
          <td class="paramname"><em>nData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default Constructor. </p>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00260">260</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acdb16742d2fdf0ecc23bd1d2efc4e338"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void calculate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classjpw__nld_1_1measure_1_1PersistenceMap.html">PersistenceMap</a> &amp;&#160;</td>
          <td class="paramname"><em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VT &amp;&#160;</td>
          <td class="paramname"><em>fitParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VT &amp;&#160;</td>
          <td class="paramname"><em>deltas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VT &amp;&#160;</td>
          <td class="paramname"><em>fnJacob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>actionCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function that actually implements the model. </p>
<p>It increments m__callcount every time it's invoked.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">VT&amp;nbsp;&amp;nbsp;</td><td>Will be either <code><a class="el" href="namespacejpw__nld_1_1fortlib.html#ab548b8671e5358ea35e5131e23dfb479" title="FORTRAN double-array type. ">fortlib::fort_dvec_t</a></code> or <code>dvector_t</code> [which is just a <code>typedef</code> to <code>std::vector&lt;double&gt;</code>]. Don't use any other container type.</td></tr>
  </table>
  </dd>
</dl>
<hr/>
<p><b>Design Notes</b>:</p>
<p>At present, this functor is used in two ways: (1) by the <a class="el" href="classjpw__nld_1_1measure_1_1FitLM__BarrierAdapter.html" title="Child class of the FitLM_Adapter, using the BarrierModel and PersistenceMap classes. ">FitLM_BarrierAdapter</a>; and (2) in a genetic algorithm. The latter is implemented in C++, so there is absolutely <em>no</em> <em>reason</em> to force it to use the pointer-based FORTRAN vector, <code>fort_dvec_t</code>. Why add unnecessary memory-management overhead just to satisfy an external library from an different programming language?</p>
<p>However, it makes just as little sense to create two copies of the same function. Since we have 3 different variants of the barrier model, we would have 6 times the maintenance load. But why double our work just for a change from <code>fort_dvec_t</code> to <code><a class="el" href="namespacejpw__math.html#ad2abb92a16fb262b3d36c651bd1c1d6f">jpw_math::dvector_t</a></code> [a.k.a. <code>double*</code> respectively] and <code>std::vector&lt;double&gt;</code> respectively]?</p>
<p>Obviously, this is a job for templates! The question, however, is <em>where</em> to templatize.</p>
<p>The entire class need not be templatized on a vector-type. Only one member function requires this distinction, the <code>operator()</code>.</p>
<p>However, we can't specialize <code>operator()</code>, because <code><a class="el" href="classjpw__nld_1_1measure_1_1FitLM__BarrierAdapter.html" title="Child class of the FitLM_Adapter, using the BarrierModel and PersistenceMap classes. ">FitLM_BarrierAdapter</a></code> requires it to have external linkage. It also requires <code>operator()</code> to have a specific signature, which the C++ user of this functor doesn't need.</p>
<p>Hence this member function template and the two <code>operator()</code> overloads. The latter become simple dispatch-calls to this function, which the compiler can inline. </p>

</div>
</div>
<a class="anchor" id="a9f50818d9d9cd8bb1bf246702d1a0e64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacejpw__nld.html#afd02b1952a0403b0ef53ae24eed8353f">tslen_t</a> callcount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accessor fn. for the # of times the model was called. </p>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00267">267</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="a886594eded13a4463b539dcb941f5fda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double chiSquared </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classjpw__nld_1_1measure_1_1PersistenceMap.html">PersistenceMap</a> &amp;&#160;</td>
          <td class="paramname"><em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dvector_t &amp;&#160;</td>
          <td class="paramname"><em>fitParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute <img class="formulaInl" alt="$ \chi^2 $" src="form_85.png"/> using <em>theMap</em> and evaluating the model at <em>fitParams</em>. </p>
<p>Equivalent to calling running <code><a class="el" href="namespacejpw__math.html#a152e2773ecb5ffe95d340b4ce92a8eaf" title="Compute  from fvec. ">jpw_math::chiSquared()</a></code> on the <em>deltas</em> you passed to a call to <code>operator()(const PersistenceMap&amp;, dvector_t&amp;, dvector_t&amp;)</code>. </p>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00292">292</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac8c5a6d25e917f52dac2ee5481ddb55f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void clearCallcount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets to zero the counter that tracks the # of times the model was called. </p>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00273">273</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9a461c17b9c58d8498c0d9c1f3dc7137"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double descale_ampl </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s_ampl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inverse operation to <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#aff93e357fc5539cacb49ab43f02234b4" title="Given the &quot;normal&quot; barrier amplitude parameter, returns its rescaled equivalent. ">scale_ampl()</a></code>. </p>
<p>Used to convert from the value found by <a class="el" href="classjpw__nld_1_1measure_1_1FitLM__BarrierAdapter.html" title="Child class of the FitLM_Adapter, using the BarrierModel and PersistenceMap classes. ">FitLM_BarrierAdapter</a> back to the actual barrier measure, <img class="formulaInl" alt="$ A $" src="form_61.png"/> (the barrier amplitude).</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html" title="Core class for all of the variants of the barrier model. ">BarrierModel</a>, specifically <a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#BaMoMath">this</a> section </dd></dl>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00356">356</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="a576740a8aeb7c2958379af2f76c615cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double descale_tau </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s_tau</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inverse operation to <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a4681aeaee0a2748ad75bc5b4d7a01c0d" title="Given the &quot;normal&quot; decay time parameter, returns its rescaled equivalent. ">scale_tau()</a></code>. </p>
<p>Used to convert from the value found by <a class="el" href="classjpw__nld_1_1measure_1_1FitLM__BarrierAdapter.html" title="Child class of the FitLM_Adapter, using the BarrierModel and PersistenceMap classes. ">FitLM_BarrierAdapter</a> back to the actual barrier measure, <img class="formulaInl" alt="$ \tau $" src="form_36.png"/> (the rate of stochastic decorrelation).</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html" title="Core class for all of the variants of the barrier model. ">BarrierModel</a>, specifically <a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#BaMoMath">this</a> section </dd></dl>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00397">397</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="a34e35289a65b1f9e8429e29167c9120f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double descale_width </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s_width</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inverse operation to <code><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#a5e2e23b3a1827b4cfee501ac923480a9" title="Given the &quot;normal&quot; barrier width parameter, returns its rescaled equivalent. ">scale_width()</a></code>. </p>
<p>Used to convert from the value found by <a class="el" href="classjpw__nld_1_1measure_1_1FitLM__BarrierAdapter.html" title="Child class of the FitLM_Adapter, using the BarrierModel and PersistenceMap classes. ">FitLM_BarrierAdapter</a> back to the actual barrier measure, <img class="formulaInl" alt="$ \Delta p $" src="form_38.png"/> (the barrier width).</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html" title="Core class for all of the variants of the barrier model. ">BarrierModel</a>, specifically <a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#BaMoMath">this</a> section </dd></dl>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00376">376</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6912cc1ea4ffe002d822bd62ee030fb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void limitParams </td>
          <td>(</td>
          <td class="paramtype">dvector_t &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restrict <em>params</em> according to their natural ranges. </p>
<p>The model's parameters won't necessarily have infinite range. This function takes any parameter that is out of range and readjusts it so that it remains in-bounds.</p>
<p>It's not used by any of the member functions in this class [which handles out-of-range values in a different way], but has been provided for use by other code.</p>
<p>To use this function, you must <code>#include&#160;"BarrierModels.tcc"</code>. This is done to promote inlining it. </p>

</div>
</div>
<a class="anchor" id="a7386b5483fed0f24d2d2e034d76407bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classjpw__nld_1_1measure_1_1PersistenceMap.html">PersistenceMap</a> &amp;&#160;</td>
          <td class="paramname"><em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dvector_t &amp;&#160;</td>
          <td class="paramname"><em>fitParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dvector_t &amp;&#160;</td>
          <td class="paramname"><em>deltas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The model, C++-style. </p>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00278">278</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="af828bc699cede19026334ec9e9aee88d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operator() </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classjpw__nld_1_1measure_1_1PersistenceMap.html">PersistenceMap</a> &amp;&#160;</td>
          <td class="paramname"><em>theMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacejpw__nld_1_1fortlib.html#ab548b8671e5358ea35e5131e23dfb479">fortlib::fort_dvec_t</a>&#160;</td>
          <td class="paramname"><em>fitParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacejpw__nld_1_1fortlib.html#ab548b8671e5358ea35e5131e23dfb479">fortlib::fort_dvec_t</a>&#160;</td>
          <td class="paramname"><em>deltas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacejpw__nld_1_1fortlib.html#a71e1364077d954bc37620f7f5732525b">fortlib::fort_dmat_t</a>&#160;</td>
          <td class="paramname"><em>fnJacob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>actionCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The model, in the form required by <code>FitLM_Adapter</code>. </p>
<p>Not all of the args are used. </p>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00303">303</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad881762e37c63c17e55a5344cd280885"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void randomParams </td>
          <td>(</td>
          <td class="paramtype">dvector_t &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill <em>params</em> with "constrained" random values. </p>
<p>The "constrained" random values are uniformly-distributed pRNGs, but over a range that makes sense for this model.</p>
<p>To use this function, you must <code>#include&#160;"BarrierModels.tcc"</code>. This is done to promote inlining it. </p>

</div>
</div>
<a class="anchor" id="aff93e357fc5539cacb49ab43f02234b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double scale_ampl </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>us_ampl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given the "normal" barrier amplitude parameter, returns its rescaled equivalent. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html" title="Core class for all of the variants of the barrier model. ">BarrierModel</a>, specifically <a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#BaMoMath">this</a> section </dd></dl>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00345">345</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4681aeaee0a2748ad75bc5b4d7a01c0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double scale_tau </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>us_tau</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given the "normal" decay time parameter, returns its rescaled equivalent. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html" title="Core class for all of the variants of the barrier model. ">BarrierModel</a>, specifically <a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#BaMoMath">this</a> section </dd></dl>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00385">385</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5e2e23b3a1827b4cfee501ac923480a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double scale_width </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>us_width</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given the "normal" barrier width parameter, returns its rescaled equivalent. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html" title="Core class for all of the variants of the barrier model. ">BarrierModel</a>, specifically <a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html#BaMoMath">this</a> section </dd></dl>

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00365">365</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8448c6f76561a824e54e410e1ebe34f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned KAPPA1 =20</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00256">256</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1cbc07c6dc50fd397ea1d6ec829cb298"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacejpw__nld.html#afd02b1952a0403b0ef53ae24eed8353f">tslen_t</a> m__callcount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00402">402</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

<p>Referenced by <a class="el" href="BarrierModels_8h_source.html#l00267">BarrierModel&lt; F_POL_T &gt;::callcount()</a>, and <a class="el" href="BarrierModels_8h_source.html#l00273">BarrierModel&lt; F_POL_T &gt;::clearCallcount()</a>.</p>

</div>
</div>
<a class="anchor" id="a8152f7d621cada08a0ef5469766845fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dvector_t m__wrkErrs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00404">404</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

<p>Referenced by <a class="el" href="BarrierModels_8h_source.html#l00292">BarrierModel&lt; F_POL_T &gt;::chiSquared()</a>.</p>

</div>
</div>
<a class="anchor" id="aae70d50879980e2e9b45dece3340e6db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dvector_t m__wrkJac</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00403">403</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

<p>Referenced by <a class="el" href="BarrierModels_8h_source.html#l00292">BarrierModel&lt; F_POL_T &gt;::chiSquared()</a>, and <a class="el" href="BarrierModels_8h_source.html#l00278">BarrierModel&lt; F_POL_T &gt;::operator()()</a>.</p>

</div>
</div>
<a class="anchor" id="a895ddf70d65a1ef437a1d6caed163678"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacejpw__nld.html#aab1410d3f3644ff465752cab5b56e420">index_t</a> N_PARAMETERS =Policy_t::N_PARAMETERS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="BarrierModels_8h_source.html#l00257">257</a> of file <a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="BarrierModels_8h_source.html">BarrierModels.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacejpw__nld.html">jpw_nld</a></li><li class="navelem"><a class="el" href="namespacejpw__nld_1_1measure.html">measure</a></li><li class="navelem"><a class="el" href="classjpw__nld_1_1measure_1_1BarrierModel.html">BarrierModel</a></li>
    <li class="footer">Generated on Sun Mar 15 2015 21:54:41 for research-nld by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
